<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Scoreline Squares ‚Ä¢ Superbowl Squares (TEST MODE)</title>

  <!-- IMPORTANT: we're inside /superbowl/ so go UP one level for CSS -->
  <link rel="stylesheet" href="../Superbowl.css" />
</head>

<body>
  <header class="topbar">
    <div class="brand">
      <span class="ball" aria-hidden="true">üèà</span>
      <div>
        <div class="company">Scoreline Squares</div>
        <div class="game">Superbowl Squares <span class="badge">TEST MODE</span></div>
      </div>
    </div>

    <div class="price">
      <div class="price-amount">¬£<span id="pricePerSquare">11.50</span></div>
      <div class="price-label">per square</div>
    </div>
  </header>

  <div class="notice" role="status">
    <span class="small"><span class="badge">TEST MODE</span> simulation only ‚Äî no real money involved.</span>
    <a class="btn" href="../index.html">Back to homepage</a>
  </div>

  <main class="layout">

    <!-- TOP: GRID + INFO PANEL (like your template) -->
    <section class="card">
      <div class="board-row">

        <!-- GRID -->
        <div>
          <h2 style="margin:0 0 6px;">Superbowl Squares</h2>
          <div class="muted small" style="margin-bottom:10px;">
            Home Team (top) ‚Ä¢ Away Team (left). Hover or tap SOLD squares to view buyer.
          </div>

          <div class="grid-wrap">
            <div class="grid" id="grid" aria-label="Squares grid"></div>
          </div>

          <div class="meta">
            <div><strong>Squares remaining:</strong> <span id="remaining">100</span></div>
          </div>
        </div>

        <!-- RIGHT INFO PANEL -->
        <aside class="panel" aria-label="Cost and prizes panel">

          <div class="box">
            <h3>Cost per square</h3>
            <div class="row">
              <div class="label">Entry</div>
              <div class="value">¬£<span id="costBox">11.50</span></div>
            </div>
            <div class="muted small">
              This is the price each participant pays per square.
            </div>
          </div>

          <div class="box">
            <h3>Prize payouts</h3>

            <div class="row">
              <div class="label">QTR 1</div>
              <div class="value">¬£<span id="payoutQ1">250</span></div>
            </div>

            <div class="row">
              <div class="label">QTR 2</div>
              <div class="value">¬£<span id="payoutQ2">250</span></div>
            </div>

            <div class="row">
              <div class="label">QTR 3</div>
              <div class="value">¬£<span id="payoutQ3">250</span></div>
            </div>

            <!-- QTR 4 removed as requested -->

            <div class="row">
              <div class="label">FINAL</div>
              <div class="value">¬£<span id="payoutFinal">250</span></div>
            </div>

            <div class="muted small">
              Example values for now ‚Äî we can make these editable/admin-only later.
            </div>
          </div>

        </aside>

      </div>
    </section>

    <!-- BELOW: JOIN FORM (grid is visible first) -->
    <section class="card form-card">
      <h2>Join the game</h2>
      <p class="muted" style="margin-top:0;">
        Enter a <strong>Username</strong> and <strong>Email</strong>, choose how many squares you want,
        then click <strong>Simulate Payment</strong>. (Random squares assigned)
      </p>

      <form id="entryForm">
        <label>
          Username
          <input id="username" name="username" autocomplete="nickname" required />
        </label>

        <label>
          Email
          <input id="email" name="email" type="email" autocomplete="email" required />
        </label>

        <label>
          Number of squares
          <input id="quantity" name="quantity" type="number" min="1" value="1" required />
        </label>

        <button class="btn primary" type="submit" id="payBtn">
          Simulate Payment for ¬£<span id="payTotal">11.50</span>
        </button>

        <div class="summary" id="summaryText"></div>
      </form>
    </section>

  </main>

  <footer class="footer">
    <div class="small">¬© <span id="year"></span> Scoreline Squares ‚Ä¢ Trial mode</div>
  </footer>

  <script>
    // Set year
    document.getElementById("year").textContent = new Date().getFullYear();

    // Keep these values in ONE place (easy to change)
    const PRICE_PER_SQUARE = 11.50;

    const PAYOUTS = {
      q1: 250,
      q2: 250,
      q3: 250,
      final: 250
    };

    // Fill the UI
    document.getElementById("pricePerSquare").textContent = PRICE_PER_SQUARE.toFixed(2);
    document.getElementById("costBox").textContent = PRICE_PER_SQUARE.toFixed(2);

    document.getElementById("payoutQ1").textContent = PAYOUTS.q1;
    document.getElementById("payoutQ2").textContent = PAYOUTS.q2;
    document.getElementById("payoutQ3").textContent = PAYOUTS.q3;
    document.getElementById("payoutFinal").textContent = PAYOUTS.final;

    // Update button total when quantity changes
    const qty = document.getElementById("quantity");
    const payTotal = document.getElementById("payTotal");
    function updateTotal(){
      const n = Math.max(1, Number(qty.value || 1));
      payTotal.textContent = (n * PRICE_PER_SQUARE).toFixed(2);
    }
    qty.addEventListener("input", updateTotal);
    updateTotal();
  </script>

  <!-- IMPORTANT: we're inside /superbowl/ so go UP one level for JS -->
  <script src="../app.js"></script>
</body>
</html>
